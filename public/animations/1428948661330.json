{"name":"Custom Font Example","filename":"1428948661330.js","author":"Ben","code":"// example code, renders a basic rainbow\r\nvar tv = {\r\n\thue: 0,\r\n\txPos: 0,\r\n\tyPos: 0,\r\n\tframe: 0\r\n};\r\n\r\n\r\nvar displayString = \"Really\\nReally\\nSmall\\n Text\";\r\n\r\n// font images must be in an arrangement of 16x16 characters\r\n// generally should have a background color that is not transparent\r\n// and then a single color that the text is drawn in\r\n\r\n// this one is taken from here http://dwarffortresswiki.org/images/a/ae/LN_EGA8x8.png\r\nvar customFont = \"data:image/png;base64,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\";\r\n\r\nreturn {\r\n    \r\n\tinit: function(display,timeline) {\r\n\t\tthis.display = display;\r\n\t\t\r\n\t\tdisplay.loadFont(\"small\", customFont,\r\n\t\t    // tilemap specifies width and height of each character in 16x16 grid\r\n\t\t    {\r\n\t\t        tileWidth: 8,\r\n    \t\t    tileHeight: 8,\r\n    \t\t    tileBorder: 0\r\n    \t\t},\r\n    \t\tnew Color(0xFF00FF), // bg color (pink in this case)\r\n    \t\tnew Color(0xFFFFFF) // text color in the image (replaced later when drawing)\r\n\t\t);\r\n    //debugger;\r\n        tv.xPos = display.cols;\r\n      \tdisplay.tween(tv,{\r\n          to: {xPos: -displayString.length*display.getFont('small').map.tileWidth},\r\n          duration: 5000,\r\n          repeat: Infinity,\r\n          yoyo: false,\r\n          delay: 0\r\n        });\r\n        \r\n\t},\r\n\r\n\tonUpdate: function(display, data) {\r\n\t\tvar c = null;\r\n\t\tdisplay.clear(new Color(0x00));\r\n\t\tvar fontHeight = display.getFont('small').map.tileHeight;\r\n\t\tdisplay.drawString(displayString,Math.round(tv.xPos),fontHeight,[new Color(0xFF0000), new Color(0x00FF00), new Color(0x0000FF)],'small');\r\n\t}\r\n};","publish":true,"script":{}}